(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){e.exports=a(175)},119:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),i=(a(119),a(25)),c=a(17),s=a(6),u=a(7),d=a(9),m=a(8),p=a(11),f=a(13),h=a.n(f);function v(e){return{type:"register_user",payload:h.a.post("".concat("/api/users","/register"),e).then((function(e){return e.data}))}}function E(e){return{type:"login_user",payload:h.a.post("".concat("/api/users","/login"),e).then((function(e){return e.data}))}}function b(){return{type:"auth_user",payload:h.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}))}}function g(){return{type:"logout_user",payload:h.a.get("".concat("/api/users","/logout")).then((function(e){return e.data}))}}function y(e){return{type:"add_to_cart_user",payload:h.a.post("".concat("/api/users","/addToCart?productId=").concat(e)).then((function(e){return e.data}))}}function _(e){return{type:"remove_cart_item_user",payload:h.a.get("".concat("/api/users","/removeFromCart?_id=").concat(e)).then((function(e){return e.data.cart.forEach((function(t){e.data.cartDetail.forEach((function(a,n){t.id===a._id&&(e.data.cartDetail[n].quantity=t.quantity)}))})),e.data}))}}function k(e){return{type:"on_success_buy_user",payload:h.a.post("".concat("/api/users","/successBuy"),e).then((function(e){return e.data}))}}function N(e){return{type:"update_data_user",payload:h.a.post("".concat("/api/users","/update_profile"),e).then((function(e){return e.data}))}}var O=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={page:[{name:"Home",linkTo:"/",public:!0},{name:"Products",linkTo:"/shop",public:!0}],user:[{name:"My Cart",linkTo:"/user/cart",public:!1},{name:"My Account",linkTo:"/user/dashboard",public:!1},{name:"Log in",linkTo:"/register_login",public:!0},{name:"Log out",linkTo:"/user/logout",public:!1}]},e.logoutHandler=function(){e.props.dispatch(g()).then((function(t){t.payload.success&&e.props.history.push("/")}))},e.cartLink=function(t,a){var n=e.props.user.userData;return r.a.createElement("div",{className:"cart_link",key:a},r.a.createElement("span",null,n.cart?n.cart.length:0),r.a.createElement(i.b,{to:t.linkTo},t.name))},e.defaultLink=function(t,a){return"Log out"===t.name?r.a.createElement("div",{className:"log_out_link",key:a,onClick:function(){return e.logoutHandler()}},t.name):r.a.createElement(i.b,{to:t.linkTo,key:a},t.name)},e.showLinks=function(t){var a=[];return e.props.user.userData&&t.forEach((function(t){e.props.user.userData.isAuth?"Log in"!==t.name&&a.push(t):!0===t.public&&a.push(t)})),a.map((function(t,a){return"My Cart"!==t.name?e.defaultLink(t,a):e.cartLink(t,a)}))},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"bck_b_light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"logo"},"Express")),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"top"},this.showLinks(this.state.user)),r.a.createElement("div",{className:"bottom"},this.showLinks(this.state.page)))))}}]),a}(n.Component);var j=Object(p.b)((function(e){return{user:e.user}}))(Object(c.f)(O)),w=a(12),S=a(84),F=a.n(S),C=a(85),D=a.n(C),x=a(86),T=a.n(x),M=a(87),P=a.n(M),A=function(e){var t=e.data;return t.siteData?r.a.createElement("footer",{className:"bck_b_dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"logo"},"Fashion Express"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"left"},r.a.createElement("h2",null,"Contact information"),r.a.createElement("div",{className:"business_nfo"},r.a.createElement("div",{className:"tag"},r.a.createElement(w.a,{icon:F.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Address"),r.a.createElement("div",null,t.siteData[0].address))),r.a.createElement("div",{className:"tag"},r.a.createElement(w.a,{icon:D.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Phone"),r.a.createElement("div",null,t.siteData[0].phone))),r.a.createElement("div",{className:"tag"},r.a.createElement(w.a,{icon:T.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Working hours"),r.a.createElement("div",null,t.siteData[0].hours))),r.a.createElement("div",{className:"tag"},r.a.createElement(w.a,{icon:P.a,className:"icon"}),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,"Email"),r.a.createElement("div",null,t.siteData[0].email))))),r.a.createElement("div",{className:"left"},r.a.createElement("h2",null,"Be the first to know"),r.a.createElement("div",null,r.a.createElement("div",null,"Get all the latest information on events, sales and offers.You can miss out.")))))):null};function q(){return{type:"get_site_data",payload:h.a.get("".concat("/api/site","/site_data")).then((function(e){return e.data}))}}function I(e){return{type:"update_site_data",payload:h.a.post("".concat("/api/site","/site_data"),e).then((function(e){return e.data}))}}var L=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0===Object.keys(this.props.site).length&&this.props.dispatch(q())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("div",{className:"page_container"},this.props.children),r.a.createElement(A,{data:this.props.site}))}}]),a}(n.Component),B=Object(p.b)((function(e){return{site:e.site}}))(L),H=a(204),U=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=function(n){Object(d.a)(l,n);var o=Object(m.a)(l);function l(){var e;Object(s.a)(this,l);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=o.call.apply(o,[this].concat(a))).state={loading:!0},e}return Object(u.a)(l,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(b()).then((function(n){var r=e.props.user.userData;r.isAuth?(a&&!r.isAdmin||!1===t)&&e.props.history.push("/user/dashboard"):t&&e.props.history.push("/register_login"),e.setState({loading:!1})}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"main_loader"},r.a.createElement(H.a,{style:{color:"#2196F3"},thickness:7})):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),l}(n.Component);function l(e){return{user:e.user}}return Object(p.b)(l)(o)},z=a(88),R=a.n(z),$=a(64),W=a.n($),Y=function(e){return r.a.createElement("div",{className:"my_link"},function(){var t="";switch(e.type){case"default":t=r.a.createElement(i.b,Object.assign({className:e.altClass?e.altClass:"link_default",to:e.linkTo},e.addStyles),e.title);break;case"bag_link":t=r.a.createElement("div",{className:"bag_link",onClick:function(){e.runAction()}},r.a.createElement(w.a,{icon:W.a}));break;case"add_to_cart_link":t=r.a.createElement("div",{className:"add_to_cart_link",onClick:function(){e.runAction()}},r.a.createElement(w.a,{icon:W.a}),"Add to cart");break;default:t=""}return t}())},G=function(e){var t=[{img:"/images/featured/featured_home.jpg",lineOne:"Fender",lineTwo:"Custom shop",linkTitle:"Shop now",linkTo:"/shop"},{img:"/images/featured/featured_home_2.jpg",lineOne:"B-Stock",lineTwo:"Awesome discounts",linkTitle:"View offers",linkTo:"/shop"}],a={dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1};return r.a.createElement("div",{className:"featured_container"},r.a.createElement(R.a,a,t?t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"featured_image",style:{background:"url(".concat(e.img,")"),height:"".concat(window.innerHeight,"px")}},r.a.createElement("div",{className:"featured_action"},r.a.createElement("div",{className:"tag title"},e.lineOne),r.a.createElement("div",{className:"tag low_title"},e.lineTwo),r.a.createElement("div",null,r.a.createElement(Y,{type:"default",title:e.linkTitle,linkTo:e.linkTo,addStyles:{margin:"10px 0 0 0"}})))))})):null))},J=function(e){var t={img:"/images/featured/featured_home_3.jpg",lineOne:"Up to 40% off",lineTwo:"In second hand guitars",linkTitle:"Shop now",linkTo:"/shop"};return r.a.createElement("div",{className:"home_promotion"},t?r.a.createElement("div",{className:"home_promotion_img",style:{background:"url(".concat(t.img,")")}},r.a.createElement("div",{className:"tag title"},t.lineOne),r.a.createElement("div",{className:"tag low_title"},t.lineTwo),r.a.createElement("div",null,r.a.createElement(Y,{type:"default",title:t.linkTitle,linkTo:t.linkTo,addStyles:{margin:"10px 0 0 0"}}))):null)},V=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"renderCardImage",value:function(e){return e.length>0?e[0].url:"/images/image_not_availble.png"}},{key:"render",value:function(){var e=this,t=this.props;return r.a.createElement("div",{className:"card_item_wrapper ".concat(t.grid)},r.a.createElement("div",{className:"image",style:{background:"url(".concat(this.renderCardImage(t.images),") no-repeat")}},"  "),r.a.createElement("div",{className:"action_container"},r.a.createElement("div",{className:"tags"},r.a.createElement("div",{className:"brand"},t.brand.name),r.a.createElement("div",{className:"name"},t.name),r.a.createElement("div",{className:"name"},"$",t.price)),t.grid?r.a.createElement("div",{className:"description"},r.a.createElement("p",null,t.description)):null,r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"button_wrapp"},r.a.createElement(Y,{type:"default",altClass:"card_link",title:"View product",linkTo:"/product_detail/".concat(t._id),addStyles:{margin:"10px 0 0 0"}})),r.a.createElement("div",{className:"button_wrapp"},r.a.createElement(Y,{type:"bag_link",runAction:function(){t.user.userData.isAuth?e.props.dispatch(y(t._id)):console.log("you need to log in")}})))))}}]),a}(n.Component),X=Object(p.b)((function(e){return{user:e.user}}))(V),K=function(e){return r.a.createElement("div",{className:"card_block"},r.a.createElement("div",{className:"container"},e.title?r.a.createElement("div",{className:"title"},e.title):null,r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},(e.list,e.list?e.list.map((function(e,t){return r.a.createElement(X,Object.assign({key:t},e))})):null))))},Q=a(33);function Z(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r={limit:t,skip:e,filters:a},o=h.a.post("".concat("/api/product","/shop"),r).then((function(e){var t=[].concat(Object(Q.a)(n),Object(Q.a)(e.data.articles));return{size:e.data.size,articles:t}}));return{type:"get_products_to_shop",payload:o}}function ee(e){return{type:"add_product",payload:h.a.post("".concat("/api/product","/article"),e).then((function(e){return e.data}))}}function te(){return{type:"get_brands",payload:h.a.get("".concat("/api/product","/brands")).then((function(e){return e.data}))}}function ae(e,t){return{type:"add_brand",payload:h.a.post("".concat("/api/product","/brand"),e).then((function(e){var a=[].concat(Object(Q.a)(t),[e.data.brand]);return{success:e.data.success,brands:a}}))}}function ne(e,t){return{type:"add_wood",payload:h.a.post("".concat("/api/product","/wood"),e).then((function(e){var a=[].concat(Object(Q.a)(t),[e.data.wood]);return{success:e.data.success,woods:a}}))}}function re(){return{type:"get_woods",payload:h.a.get("".concat("/api/product","/woods")).then((function(e){return e.data}))}}var oe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch({type:"get_products_by_sell",payload:h.a.get("".concat("/api/product","/articles?sortBy=sold&order=desc&limit=4")).then((function(e){return e.data}))}).then((function(){console.log(e.props)})),this.props.dispatch({type:"get_products_by_arrival",payload:h.a.get("".concat("/api/product","/articles?sortBy=createdAt&order=desc&limit=4")).then((function(e){return e.data}))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(K,{list:this.props.products.bySell,title:"Best Selling guitars"}),r.a.createElement(J,null),r.a.createElement(K,{list:this.props.products.byArrival,title:"New arrivals"}))}}]),a}(n.Component),le=Object(p.b)((function(e){return{products:e.products}}))(oe),ie=function(e){var t=e.formdata,a=e.change,n=e.id,o=function(){var e=null;return t.validation&&!t.valid&&(e=r.a.createElement("div",{className:"error_label"},t.validationMessage)),e};return r.a.createElement("div",null,function(){var e=null;switch(t.element){case"input":e=r.a.createElement("div",{className:"formBlock"},t.showlabel?r.a.createElement("div",{className:"label_inputs"},t.config.label):null,r.a.createElement("input",Object.assign({},t.config,{value:t.value,onBlur:function(e){return a({event:e,id:n,blur:!0})},onChange:function(e){return a({event:e,id:n})}})),o());break;case"select":e=r.a.createElement("div",{className:"formBlock"},t.showlabel?r.a.createElement("div",{className:"label_inputs"},t.config.label):null,r.a.createElement("select",{value:t.value,onBlur:function(e){return a({event:e,id:n,blur:!0})},onChange:function(e){return a({event:e,id:n})}},r.a.createElement("option",{value:""},"Select one"),t.config.options.map((function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),o());break;case"textarea":e=r.a.createElement("div",{className:"formBlock"},t.showlabel?r.a.createElement("div",{className:"label_inputs"},t.config.label):null,r.a.createElement("textarea",Object.assign({},t.config,{value:t.value,onBlur:function(e){return a({event:e,id:n,blur:!0})},onChange:function(e){return a({event:e,id:n})}})),o());break;default:e=null}return e}())},ce=a(4),se=function(e,t,a){var n=Object(ce.a)({},t),r=Object(ce.a)({},n[e.id]);if(r.value=e.event.target.value,e.blur){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[!0,""];if(e.validation.email){var n=/\S+@\S+\.\S+/.test(e.value),r="".concat(n?"":"Must be a valid email");a=n?a:[n,r]}if(e.validation.confirm){var o=e.value.trim()===t[e.validation.confirm].value,l="".concat(o?"":"Passwords do not match");a=o?a:[o,l]}if(e.validation.required){var i=""!==e.value.trim(),c="".concat(i?"":"This field is required");a=i?a:[i,c]}return a}(r,t);r.valid=o[0],r.validationMessage=o[1]}return r.touched=e.blur,n[e.id]=r,n},ue=function(e,t){var a={};for(var n in e)"confirmPassword"!==n&&(a[n]=e[n].value);return a},de=function(e,t){var a=!0;for(var n in e)a=e[n].valid&&a;return a},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=[],r=Object(ce.a)({},e);return t.forEach((function(e){n.push({key:e._id,value:e.name})})),r[a].config.options=n,r},pe=function(e,t){var a=Object(ce.a)({},e);for(var n in a)a[n].value="images"===n?[]:"",a[n].valid=!1,a[n].touched=!1,a[n].validationMessage="";return a},fe=function(e,t){for(var a in e)e[a].value=t[a],e[a].valid=!0,e[a].touched=!0,e[a].validationMessage="";return e},he=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formError:!1,formSuccess:"",formdata:{email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""},password:{element:"input",value:"",config:{name:"password_input",type:"password",placeholder:"Enter your password"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""}}},e.updateForm=function(t){var a=se(t,e.state.formdata);e.setState({formError:!1,formdata:a})},e.submitForm=function(t){t.preventDefault();var a=ue(e.state.formdata);de(e.state.formdata)?e.props.dispatch(E(a)).then((function(t){t.payload.loginSuccess?(console.log(t.payload),e.props.history.push("/user/dashboard")):e.setState({formError:!0})})):e.setState({formError:!0})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signin_wrapper"},r.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(ie,{id:"email",formdata:this.state.formdata.email,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"password",formdata:this.state.formdata.password,change:function(t){return e.updateForm(t)}}),this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(t){return e.submitForm(t)}},"Log in")))}}]),a}(n.Component),ve=Object(p.b)()(Object(c.f)(he)),Ee=function(){return r.a.createElement("div",{className:"page_wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register_login_container"},r.a.createElement("div",{className:"left"},r.a.createElement("h1",null,"New Customers"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),r.a.createElement(Y,{type:"default",title:"Create an account",linkTo:"/register",addStyles:{margin:"10px 0 0 0"}})),r.a.createElement("div",{className:"right"},r.a.createElement("h2",null,"Registered customers"),r.a.createElement("p",null,"If you have an account please log in."),r.a.createElement(ve,null)))))},be=a(212),ge=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formError:!1,formSuccess:!1,formdata:{name:{element:"input",value:"",config:{name:"name_input",type:"text",placeholder:"Enter your name"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},lastname:{element:"input",value:"",config:{name:"lastname_input",type:"text",placeholder:"Enter your lastname"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""},password:{element:"input",value:"",config:{name:"password_input",type:"password",placeholder:"Enter your password"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},confirmPassword:{element:"input",value:"",config:{name:"confirm_password_input",type:"password",placeholder:"Confirm your password"},validation:{required:!0,confirm:"password"},valid:!1,touched:!1,validationMessage:""}}},e.updateForm=function(t){var a=se(t,e.state.formdata);e.setState({formError:!1,formdata:a})},e.submitForm=function(t){t.preventDefault();var a=ue(e.state.formdata);de(e.state.formdata)?e.props.dispatch(v(a)).then((function(t){t.payload.success?(e.setState({formError:!1,formSuccess:!0}),setTimeout((function(){e.props.history.push("/register_login")}),3e3)):e.setState({formError:!0})})).catch((function(t){e.setState({formError:!0})})):e.setState({formError:!0})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"page_wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"register_login_container"},r.a.createElement("div",{className:"left"},r.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement("h2",null,"Personal information"),r.a.createElement("div",{className:"form_block_two"},r.a.createElement("div",{className:"block"},r.a.createElement(ie,{id:"name",formdata:this.state.formdata.name,change:function(t){return e.updateForm(t)}})),r.a.createElement("div",{className:"block"},r.a.createElement(ie,{id:"lastname",formdata:this.state.formdata.lastname,change:function(t){return e.updateForm(t)}}))),r.a.createElement("div",null,r.a.createElement(ie,{id:"email",formdata:this.state.formdata.email,change:function(t){return e.updateForm(t)}})),r.a.createElement("h2",null,"Verify password"),r.a.createElement("div",{className:"form_block_two"},r.a.createElement("div",{className:"block"},r.a.createElement(ie,{id:"password",formdata:this.state.formdata.password,change:function(t){return e.updateForm(t)}})),r.a.createElement("div",{className:"block"},r.a.createElement(ie,{id:"confirmPassword",formdata:this.state.formdata.confirmPassword,change:function(t){return e.updateForm(t)}}))),r.a.createElement("div",null,this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(t){return e.submitForm(t)}},"Create an account")))))),r.a.createElement(be.a,{open:this.state.formSuccess},r.a.createElement("div",{className:"dialog_alert"},r.a.createElement("div",null,"Congratulations !!"),r.a.createElement("div",null,"You will be redirected to the LOGIN in a couple seconds..."))))}}]),a}(n.Component),ye=Object(p.b)()(ge),_e=function(e){return r.a.createElement("div",{className:"page_top"},r.a.createElement("div",{className:"container"},e.title))},ke=[{_id:20,name:20},{_id:21,name:21},{_id:22,name:22},{_id:24,name:24}],Ne=[{_id:0,name:"Any",array:[]},{_id:1,name:"$0 to $299",array:[0,299]},{_id:2,name:"$300 to $599",array:[300,599]},{_id:3,name:"$600 to $999",array:[600,999]},{_id:4,name:"$1000 to $1999",array:[1e3,1999]},{_id:5,name:"More than $2000",array:[2e3,15e5]}],Oe=a(53),je=a.n(Oe),we=a(54),Se=a.n(we),Fe=a(209),Ce=a(217),De=a(208),xe=a(207),Te=a(215),Me=a(210),Pe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={open:!1,checked:[]},e.handleClick=function(){e.setState({open:!e.state.open})},e.handleAngle=function(){return e.state.open?r.a.createElement(w.a,{icon:Se.a,className:"icon"}):r.a.createElement(w.a,{icon:je.a,className:"icon"})},e.renderList=function(){return e.props.list?e.props.list.map((function(t){return r.a.createElement(Ce.a,{key:t._id,style:{padding:"10px 0"}},r.a.createElement(xe.a,{primary:t.name}),r.a.createElement(De.a,null,r.a.createElement(Te.a,{color:"primary",onChange:e.handleToggle(t._id),checked:-1!==e.state.checked.indexOf(t._id)})))})):null},e.handleToggle=function(t){return function(){var a=e.state.checked,n=a.indexOf(t),r=Object(Q.a)(a);-1===n?r.push(t):r.splice(n,1),e.setState({checked:r},(function(){e.props.handleFilters(r)}))}},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initState&&this.setState({open:this.props.initState})}},{key:"render",value:function(){return r.a.createElement("div",{className:"collapse_items_wrapper"},r.a.createElement(Fe.a,{style:{borderBottom:"1px solid #dbdbdb"}},r.a.createElement(Ce.a,{onClick:this.handleClick,style:{padding:"10px 23px 10px 0"}},r.a.createElement(xe.a,{primary:this.props.title,className:"collapse_title"}),this.handleAngle()),r.a.createElement(Me.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},r.a.createElement(Fe.a,{component:"div",disablePadding:!0},this.renderList()))))}}]),a}(n.Component),Ae=a(214),qe=a(216),Ie=a(211),Le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={open:!1,value:"0"},e.handleClick=function(){e.setState({open:!e.state.open})},e.handleAngle=function(){return e.state.open?r.a.createElement(w.a,{icon:Se.a,className:"icon"}):r.a.createElement(w.a,{icon:je.a,className:"icon"})},e.renderList=function(){return e.props.list?e.props.list.map((function(e){return r.a.createElement(Ie.a,{key:e._id,value:"".concat(e._id),control:r.a.createElement(Ae.a,null),label:e.name})})):null},e.handleChange=function(t){e.props.handleFilters(t.target.value),e.setState({value:t.target.value})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initState&&this.setState({open:this.props.initState})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Fe.a,{style:{borderBottom:"1px solid #dbdbdb"}},r.a.createElement(Ce.a,{onClick:this.handleClick,style:{padding:"10px 23px 10px 0"}},r.a.createElement(xe.a,{primary:this.props.title,className:"collapse_title"}),this.handleAngle()),r.a.createElement(Me.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},r.a.createElement(Fe.a,{component:"div",disablePadding:!0},r.a.createElement(qe.a,{"aria-label":"prices",name:"prices",value:this.state.value,onChange:this.handleChange},this.renderList())))))}}]),a}(n.Component),Be=function(e){return r.a.createElement("div",{className:"card_block_shop"},r.a.createElement("div",null,r.a.createElement("div",null,e.list&&0===e.list.length?r.a.createElement("div",{className:"no_result"},"Sorry, no results"):null,(e.list,e.list?e.list.map((function(t){return r.a.createElement(X,Object.assign({key:t._id},t,{grid:e.grid}))})):null))))},He=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be,{grid:e.grid,list:e.products})),e.size>0&&e.size>=e.limit?r.a.createElement("div",{className:"load_more_container"},r.a.createElement("span",{onClick:function(){return e.loadMore()}},"Load More")):null)},Ue=a(89),ze=a.n(Ue),Re=a(90),$e=a.n(Re),We=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={grid:"",limit:6,skip:0,filters:{brand:[],frets:[],wood:[],price:[]}},e.handlePrice=function(e){var t=Ne,a=[];for(var n in t)t[n]._id===parseInt(e,10)&&(a=t[n].array);return a},e.handleFilters=function(t,a){var n=Object(ce.a)({},e.state.filters);if(n[a]=t,"price"===a){var r=e.handlePrice(t);n[a]=r}e.showFilteredResults(n),e.setState({filters:n})},e.showFilteredResults=function(t){e.props.dispatch(Z(0,e.state.limit,t)).then((function(){e.setState({skip:0})}))},e.loadMoreCards=function(){var t=e.state.skip+e.state.limit;e.props.dispatch(Z(t,e.state.limit,e.state.filters,e.props.products.toShop)).then((function(){e.setState({skip:t})}))},e.handleGrid=function(){e.setState({grid:e.state.grid?"":"grid_bars"})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(te()),this.props.dispatch(re()),this.props.dispatch(Z(this.state.skip,this.state.limit,this.state.filters))}},{key:"render",value:function(){var e=this,t=this.props.products;return r.a.createElement("div",null,r.a.createElement(_e,{title:"Browse Products"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"shop_wrapper"},r.a.createElement("div",{className:"left"},r.a.createElement(Pe,{initState:!0,title:"Brands",list:t.brands,handleFilters:function(t){return e.handleFilters(t,"brand")}}),r.a.createElement(Pe,{initState:!1,title:"Frets",list:ke,handleFilters:function(t){return e.handleFilters(t,"frets")}}),r.a.createElement(Pe,{initState:!1,title:"Wood",list:t.woods,handleFilters:function(t){return e.handleFilters(t,"wood")}}),r.a.createElement(Le,{initState:!0,title:"Price",list:Ne,handleFilters:function(t){return e.handleFilters(t,"price")}})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"shop_options"},r.a.createElement("div",{className:"shop_grids clear"},r.a.createElement("div",{className:"grid_btn ".concat(this.state.grid?"":"active"),onClick:function(){return e.handleGrid()}},r.a.createElement(w.a,{icon:$e.a})),r.a.createElement("div",{className:"grid_btn ".concat(this.state.grid?"active":""),onClick:function(){return e.handleGrid()}},r.a.createElement(w.a,{icon:ze.a})))),r.a.createElement("div",{style:{clear:"both"}},r.a.createElement(He,{grid:this.state.grid,limit:this.state.limit,size:t.toShopSize,products:t.toShop,loadMore:function(){return e.loadMoreCards()}}))))))}}]),a}(n.Component),Ye=Object(p.b)((function(e){return{products:e.products}}))(We),Ge=a(91),Je=a.n(Ge),Ve=a(92),Xe=a.n(Ve),Ke=a(93),Qe=a.n(Ke),Ze=function(e){var t=e.detail;return r.a.createElement("div",null,r.a.createElement("h1",null,t.brand.name," ",t.name),r.a.createElement("p",null,t.description),function(e){return r.a.createElement("div",{className:"product_tags"},e.shipping?r.a.createElement("div",{className:"tag"},r.a.createElement("div",null,r.a.createElement(w.a,{icon:Je.a})),r.a.createElement("div",{className:"tag_text"},r.a.createElement("div",null,"Free shipping"),r.a.createElement("div",null,"And return"))):null,e.available?r.a.createElement("div",{className:"tag"},r.a.createElement("div",null,r.a.createElement(w.a,{icon:Xe.a})),r.a.createElement("div",{className:"tag_text"},r.a.createElement("div",null,"Available"),r.a.createElement("div",null,"in store"))):r.a.createElement("div",{className:"tag"},r.a.createElement("div",null,r.a.createElement(w.a,{icon:Qe.a})),r.a.createElement("div",{className:"tag_text"},r.a.createElement("div",null,"Not Available"),r.a.createElement("div",null,"Preorder only"))))}(t),function(t){return r.a.createElement("div",{className:"product_actions"},r.a.createElement("div",{className:"price"},"$ ",t.price),r.a.createElement("div",{className:"cart"},r.a.createElement(Y,{type:"add_to_cart_link",runAction:function(){e.addToCart(t._id)}})))}(t),function(e){return r.a.createElement("div",{className:"product_specifications"},r.a.createElement("h2",null,"Specs:"),r.a.createElement("div",null,r.a.createElement("div",{className:"item"},r.a.createElement("strong",null,"Frets:")," ",e.frets),r.a.createElement("div",{className:"item"},r.a.createElement("strong",null,"Wood:")," ",e.wood.name)))}(t))},et=a(94),tt=(a(167),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={lightboxIsOpen:!0,currentImage:e.props.pos,images:[]},e.gotoPrevious=function(){e.setState({currentImage:e.state.currentImage-1})},e.gotoNext=function(){e.setState({currentImage:e.state.currentImage+1})},e.closeLightbox=function(){e.props.onclose()},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.currentImage,n=t.images;return r.a.createElement(et.a,{mainSrc:n[a].src,nextSrc:n[a%n.length+1],prevSrc:n[a%n.length-1],onCloseRequest:function(){return e.closeLightbox()},onMovePrevRequest:function(){return e.gotoPrevious()},onMoveNextRequest:function(){return e.gotoNext()}})}}],[{key:"getDerivedStateFromProps",value:function(e){if(e.images){var t=[];return e.images.forEach((function(e){t.push({src:"".concat(e)})})),{images:t}}return!1}}]),a}(n.Component)),at=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={lightbox:!1,imagePos:0,lightboxImages:[]},e.handleLightBox=function(t){e.state.lightboxImages.length>0&&e.setState({lightbox:!0,imagePos:t})},e.handleLightBoxClose=function(){e.setState({lightbox:!1})},e.showThumbs=function(){return e.state.lightboxImages.map((function(t,a){return a>0?r.a.createElement("div",{key:a,onClick:function(){return e.handleLightBox(a)},className:"thumb",style:{background:"url(".concat(t,") no-repeat")}}):null}))},e.renderCardImage=function(e){return e.length>0?e[0].url:"/images/image_not_availble.png"},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(this.props.detail.images.length>0){var e=[];this.props.detail.images.forEach((function(t){e.push(t.url)})),this.setState({lightboxImages:e})}}},{key:"render",value:function(){var e=this,t=this.props.detail;return r.a.createElement("div",{className:"product_image_container"},r.a.createElement("div",{className:"main_pic"},r.a.createElement("div",{style:{background:"url(".concat(this.renderCardImage(t.images),") no-repeat")},onClick:function(){return e.handleLightBox(0)}})),r.a.createElement("div",{className:"main_thumbs"},this.showThumbs(t)),this.state.lightbox?r.a.createElement(tt,{id:t.id,images:this.state.lightboxImages,open:this.state.open,pos:this.state.imagePos,onclose:function(){return e.handleLightBoxClose()}}):null)}}]),a}(n.Component),nt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.props.dispatch(function(e){return{type:"get_product_detail",payload:h.a.get("".concat("/api/product","/articles_by_id?id=").concat(e,"&type=single")).then((function(e){return e.data[0]}))}}(t)).then((function(){e.props.products.prodDetail||e.props.history.push("/")}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"clear_product_detail",payload:""})}},{key:"addToCartHandler",value:function(e){this.props.dispatch(y(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(_e,{title:"Product detail"}),r.a.createElement("div",{className:"container"},this.props.products.prodDetail?r.a.createElement("div",{className:"product_detail_wrapper"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{style:{width:"500px"}},r.a.createElement(at,{detail:this.props.products.prodDetail}))),r.a.createElement("div",{className:"right"},r.a.createElement(Ze,{addToCart:function(t){return e.addToCartHandler(t)},detail:this.props.products.prodDetail}))):"Loading"))}}]),a}(n.Component),rt=Object(p.b)((function(e){return{products:e.products}}))(nt),ot=[{name:"My account",linkTo:"/user/dashboard"},{name:"User information",linkTo:"/user/user_profile"},{name:"My Cart",linkTo:"/user/cart"}],lt=[{name:"Site info",linkTo:"/admin/site_info"},{name:"Add products",linkTo:"/admin/add_product"},{name:"Manage categories",linkTo:"/admin/manage_categories"}],it=Object(p.b)((function(e){return{user:e.user}}))((function(e){var t=function(e){return e.map((function(e,t){return r.a.createElement(i.b,{to:e.linkTo,key:t},e.name)}))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"user_container"},r.a.createElement("div",{className:"user_left_nav"},r.a.createElement("h2",null,"My account"),r.a.createElement("div",{className:"links"},t(ot)),e.user.userData.isAdmin?r.a.createElement("div",null,r.a.createElement("h2",null,"Admin"),r.a.createElement("div",{className:"links"},t(lt))):null),r.a.createElement("div",{className:"user_right"},e.children)))})),ct=a(96),st=a.n(ct),ut=function(e){return r.a.createElement("div",{className:"history_blocks"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date of purchase"),r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Price paid"),r.a.createElement("th",null,"Quantity"))),r.a.createElement("tbody",null,e.products?e.products.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,st()(e.dateOfPurchase).format("MM-DD-YYYY")),r.a.createElement("td",null,e.brand," ",e.name),r.a.createElement("td",null,"$ ",e.price),r.a.createElement("td",null,e.quantity))})):null)))},dt=function(e){var t=e.user;return r.a.createElement(it,null,r.a.createElement("div",null,r.a.createElement("div",{className:"user_nfo_panel"},r.a.createElement("h1",null,"User information"),r.a.createElement("div",null,r.a.createElement("span",null,t.userData.name),r.a.createElement("span",null,t.userData.lastname),r.a.createElement("span",null,t.userData.email)),r.a.createElement(Y,{type:"default",title:"Edit account info",linkTo:"/user/user_profile"})),t.userData.history?r.a.createElement("div",{className:"user_nfo_panel"},r.a.createElement("h1",null,"History purchases"),r.a.createElement("div",{className:"user_product_block_wrapper"},r.a.createElement(ut,{products:t.userData.history}))):null))},mt=a(104),pt=a(98),ft=a.n(pt),ht=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).onDrop=function(t){e.setState({uploading:!0});var a=new FormData;a.append("file",t[0]),h.a.post("/api/users/uploadimage",a,{header:{"content-type":"multipart/form-data"}}).then((function(t){console.log(t.data),e.setState({uploading:!1,uploadedFiles:[].concat(Object(Q.a)(e.state.uploadedFiles),[t.data])},(function(){e.props.imagesHandler(e.state.uploadedFiles)}))}))},e.onRemove=function(t){h.a.get("/api/users/removeimage?public_id=".concat(t)).then((function(a){var n=e.state.uploadedFiles.filter((function(e){return e.public_id!==t}));e.setState({uploadedFiles:n},(function(){e.props.imagesHandler(n)}))}))},e.showUploadedImages=function(){return e.state.uploadedFiles.map((function(t){return r.a.createElement("div",{className:"dropzone_box",key:t.public_id,onClick:function(){return e.onRemove(t.public_id)}},r.a.createElement("div",{className:"wrap",style:{background:"url(".concat(t.url,") no-repeat")}}))}))},e.state={uploadedFiles:[],uploading:!1},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement("div",{className:"dropzone clear"},r.a.createElement(mt.a,{onDrop:function(t){return e.onDrop(t)},multiple:!1,className:"dropzone_box"},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement(w.a,{className:"wrap",icon:ft.a}))})),this.showUploadedImages(),this.state.uploading?r.a.createElement("div",{className:"dropzone_box",style:{textAlign:"center",paddingTop:"60px"}},r.a.createElement(H.a,{style:{color:"#00bcd4"},thickness:7})):null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.reset?{uploadedFiles:[]}:null}}]),a}(n.Component),vt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formError:!1,formSuccess:!1,formdata:{name:{element:"input",value:"",config:{label:"Product name",name:"name_input",type:"text",placeholder:"Enter your name"},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},description:{element:"textarea",value:"",config:{label:"Product description",name:"description_input",type:"text",placeholder:"Enter your description"},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},price:{element:"input",value:"",config:{label:"Product price",name:"price_input",type:"number",placeholder:"Enter your price"},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},brand:{element:"select",value:"",config:{label:"Product Brand",name:"brands_input",options:[]},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},shipping:{element:"select",value:"",config:{label:"Shipping",name:"shipping_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},available:{element:"select",value:"",config:{label:"Available, in stock",name:"available_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},wood:{element:"select",value:"",config:{label:"Wood material",name:"wood_input",options:[]},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},frets:{element:"select",value:"",config:{label:"Frets",name:"frets_input",options:[{key:20,value:20},{key:21,value:21},{key:22,value:22},{key:24,value:24}]},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},publish:{element:"select",value:"",config:{label:"Publish",name:"publish_input",options:[{key:!0,value:"Public"},{key:!1,value:"Hidden"}]},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},images:{value:[],validation:{required:!1},valid:!0,touched:!1,validationMessage:"",showlabel:!1}}},e.updateFields=function(t){e.setState({formdata:t})},e.updateForm=function(t){var a=se(t,e.state.formdata);e.setState({formError:!1,formdata:a})},e.resetFieldHandler=function(){var t=pe(e.state.formdata);e.setState({formdata:t,formSuccess:!0}),setTimeout((function(){e.setState({formSuccess:!1},(function(){e.props.dispatch({type:"clear_product",payload:""})}))}),3e3)},e.submitForm=function(t){t.preventDefault();var a=ue(e.state.formdata);de(e.state.formdata)?e.props.dispatch(ee(a)).then((function(){e.props.products.addProduct.success?e.resetFieldHandler():e.setState({formError:!0})})):e.setState({formError:!0})},e.imagesHandler=function(t){var a=Object(ce.a)({},e.state.formdata);a.images.value=t,a.images.valid=!0,e.setState({formdata:a})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.formdata;this.props.dispatch(te()).then((function(a){var n=me(t,e.props.products.brands,"brand");e.updateFields(n)})),this.props.dispatch(re()).then((function(a){var n=me(t,e.props.products.woods,"wood");e.updateFields(n)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(it,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Add product"),r.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(ht,{imagesHandler:function(t){return e.imagesHandler(t)},reset:this.state.formSuccess}),r.a.createElement(ie,{id:"name",formdata:this.state.formdata.name,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"description",formdata:this.state.formdata.description,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"price",formdata:this.state.formdata.price,change:function(t){return e.updateForm(t)}}),r.a.createElement("div",{className:"form_devider"}),r.a.createElement(ie,{id:"brand",formdata:this.state.formdata.brand,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"shipping",formdata:this.state.formdata.shipping,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"available",formdata:this.state.formdata.available,change:function(t){return e.updateForm(t)}}),r.a.createElement("div",{className:"form_devider"}),r.a.createElement(ie,{id:"wood",formdata:this.state.formdata.wood,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"frets",formdata:this.state.formdata.frets,change:function(t){return e.updateForm(t)}}),r.a.createElement("div",{className:"form_devider"}),r.a.createElement(ie,{id:"publish",formdata:this.state.formdata.publish,change:function(t){return e.updateForm(t)}}),this.state.formSuccess?r.a.createElement("div",{className:"form_success"},"Success"):null,this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(t){return e.submitForm(t)}},"Add product"))))}}]),a}(n.Component),Et=Object(p.b)((function(e){return{products:e.products}}))(vt),bt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={formError:!1,formSuccess:!1,formdata:{name:{element:"input",value:"",config:{name:"name_input",type:"text",placeholder:"Enter the brand"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""}}},e.showCategoryItems=function(){return e.props.products.brands?e.props.products.brands.map((function(e,t){return r.a.createElement("div",{className:"category_item",key:e._id},e.name)})):null},e.updateForm=function(t){var a=se(t,e.state.formdata);e.setState({formError:!1,formdata:a})},e.resetFieldsHandler=function(){var t=pe(e.state.formdata);e.setState({formdata:t,formSuccess:!0})},e.submitForm=function(t){t.preventDefault();var a=ue(e.state.formdata),n=de(e.state.formdata),r=e.props.products.brands;n?e.props.dispatch(ae(a,r)).then((function(t){t.payload.success?e.resetFieldsHandler():e.setState({formError:!0})})):e.setState({formError:!0})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(te())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin_category_wrapper"},r.a.createElement("h1",null,"Brands"),r.a.createElement("div",{className:"admin_two_column"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"brands_container"},this.showCategoryItems())),r.a.createElement("div",{className:"right"},r.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(ie,{id:"name",formdata:this.state.formdata.name,change:function(t){return e.updateForm(t)}}),this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(t){return e.submitForm(t)}},"Add brand")))))}}]),a}(n.Component),gt=Object(p.b)((function(e){return{products:e.products}}))(bt),yt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={formError:!1,formSuccess:!1,formdata:{name:{element:"input",value:"",config:{name:"name_input",type:"text",placeholder:"Enter the wood"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""}}},e.showCategoryItems=function(){return e.props.products.woods?e.props.products.woods.map((function(e,t){return r.a.createElement("div",{className:"category_item",key:e._id},e.name)})):null},e.updateForm=function(t){var a=se(t,e.state.formdata);e.setState({formError:!1,formdata:a})},e.resetFieldsHandler=function(){var t=pe(e.state.formdata);e.setState({formdata:t,formSuccess:!0})},e.submitForm=function(t){t.preventDefault();var a=ue(e.state.formdata),n=de(e.state.formdata),r=e.props.products.woods;n?e.props.dispatch(ne(a,r)).then((function(t){t.payload.success?e.resetFieldsHandler():e.setState({formError:!0})})):e.setState({formError:!0})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(re())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin_category_wrapper"},r.a.createElement("h1",null,"Woods"),r.a.createElement("div",{className:"admin_two_column"},r.a.createElement("div",{className:"left"},r.a.createElement("div",{className:"brands_container"},this.showCategoryItems())),r.a.createElement("div",{className:"right"},r.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(ie,{id:"name",formdata:this.state.formdata.name,change:function(t){return e.updateForm(t)}}),this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(t){return e.submitForm(t)}},"Add wood")))))}}]),a}(n.Component),_t=Object(p.b)((function(e){return{products:e.products}}))(yt),kt=function(){return r.a.createElement(it,null,r.a.createElement(gt,null),r.a.createElement(_t,null))},Nt=function(e){var t=e.products,a=e.removeItem;return r.a.createElement("div",null,t.cartDetail?t.cartDetail.map((function(e){return r.a.createElement("div",{className:"user_product_block",key:e._id},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"image",style:{background:"url(".concat((t=e.images,t.length>0?t[0].url:"/images/image_not_availble.png"),") no-repeat")}})),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Product name"),r.a.createElement("div",null,e.brand.name," ",e.name)),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Quantity"),r.a.createElement("div",null,e.quantity)),r.a.createElement("div",{className:"item"},r.a.createElement("h4",null,"Price"),r.a.createElement("div",null,"$ ",e.price)),r.a.createElement("div",{className:"item btn"},r.a.createElement("div",{className:"cart_remove_btn",onClick:function(){return a(e._id)}},"Remove")));var t})):null)},Ot=a(99),jt=a.n(Ot),wt=a(100),St=a.n(wt),Ft=a(101),Ct=a.n(Ft),Dt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.toPay;return r.a.createElement("div",null,r.a.createElement(Ct.a,{env:"sandbox",client:{sandbox:"AfbA2-qjz92KhC5IDxvx2UpiIDBmSD7PdlKkZk1-OndNwg7Wc5wVAJKlPWQJcHwioMFz0kn4zOXnbqGW",production:""},currency:"USD",total:t,onError:function(e){console.log(JSON.stringify(e))},onSuccess:function(t){e.props.onSuccess(t)},onCancel:function(e){console.log(JSON.stringify(e))},style:{size:"large",color:"blue",shape:"rect",label:"checkout"}}))}}]),a}(n.Component),xt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={loading:!0,total:0,showTotal:!1,showSuccess:!1},e.calculateTotal=function(t){var a=0;t.forEach((function(e){a+=parseInt(e.price,10)*e.quantity})),e.setState({total:a,showTotal:!0})},e.removeFromCart=function(t){e.props.dispatch(_(t)).then((function(){e.props.user.cartDetail.length<=0?e.setState({showTotal:!1}):e.calculateTotal(e.props.user.cartDetail)}))},e.showNoItemMessage=function(){return r.a.createElement("div",{className:"cart_no_items"},r.a.createElement(w.a,{icon:jt.a}),r.a.createElement("div",null,"You have no items"))},e.transactionError=function(e){console.log("Paypal error")},e.transactionCanceled=function(){console.log("Transaction cancled")},e.transactionSuccess=function(t){e.props.dispatch(k({cartDetail:e.props.user.cartDetail,paymentData:t})).then((function(){e.props.user.successBuy&&e.setState({showTotal:!1,showSuccess:!0})}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[],a=this.props.user;a.userData.cart&&a.userData.cart.length>0&&(a.userData.cart.forEach((function(e){t.push(e.id)})),this.props.dispatch(function(e,t){return{type:"get_cart_item_user",payload:h.a.get("".concat("/api/product","/articles_by_id?id=").concat(e,"&type=array")).then((function(e){return t.forEach((function(t){e.data.forEach((function(a,n){t.id===a._id&&(e.data[n].quantity=t.quantity)}))})),e.data}))}}(t,a.userData.cart)).then((function(){e.props.user.cartDetail.length>0&&e.calculateTotal(e.props.user.cartDetail)})))}},{key:"render",value:function(){var e=this;return r.a.createElement(it,null,r.a.createElement("div",null,r.a.createElement("h1",null,"My cart"),r.a.createElement("div",{className:"user_cart"},r.a.createElement(Nt,{products:this.props.user,type:"cart",removeItem:function(t){return e.removeFromCart(t)}}),this.state.showTotal?r.a.createElement("div",null,r.a.createElement("div",{className:"user_cart_sum"},r.a.createElement("div",null,"Total amount: $ ",this.state.total))):this.state.showSuccess?r.a.createElement("div",{className:"cart_success"},r.a.createElement(w.a,{icon:St.a}),r.a.createElement("div",null,"THANK YOU"),r.a.createElement("div",null,"YOUR ORDER IS NOW COMPLETE")):this.showNoItemMessage()),this.state.showTotal?r.a.createElement("div",{className:"paypal_button_container"},r.a.createElement(Dt,{toPay:this.state.total,transactionError:function(t){return e.transactionError(t)},transactionCanceled:function(t){return e.transactionCanceled(t)},onSuccess:function(t){return e.transactionSuccess(t)}})):null))}}]),a}(n.Component),Tt=Object(p.b)((function(e){return{user:e.user}}))(xt),Mt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formError:!1,formSuccess:!1,formdata:{name:{element:"input",value:"",config:{name:"name_input",type:"text",placeholder:"Enter your name"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},lastname:{element:"input",value:"",config:{name:"lastname_input",type:"text",placeholder:"Enter your lastname"},validation:{required:!0},valid:!1,touched:!1,validationMessage:""},email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""}}},e.updateForm=function(t){var a=se(t,e.state.formdata);e.setState({formError:!1,formdata:a})},e.submitForm=function(t){t.preventDefault();var a=ue(e.state.formdata);de(e.state.formdata)?e.props.dispatch(N(a)).then((function(){e.props.user.updateUser.success&&e.setState({formSuccess:!0},(function(){setTimeout((function(){e.props.dispatch({type:"clear_update_user_data",payload:""}),e.setState({formSuccess:!1})}),2e3)}))})):e.setState({formError:!0})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=fe(this.state.formdata,this.props.user.userData);this.setState({formdata:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement("h2",null,"Personal information"),r.a.createElement("div",{className:"form_block_two"},r.a.createElement("div",{className:"block"},r.a.createElement(ie,{id:"name",formdata:this.state.formdata.name,change:function(t){return e.updateForm(t)}})),r.a.createElement("div",{className:"block"},r.a.createElement(ie,{id:"lastname",formdata:this.state.formdata.lastname,change:function(t){return e.updateForm(t)}}))),r.a.createElement("div",null,r.a.createElement(ie,{id:"email",formdata:this.state.formdata.email,change:function(t){return e.updateForm(t)}})),r.a.createElement("div",null,this.state.formSuccess?r.a.createElement("div",{className:"form_success"},"Success"):null,this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(t){return e.submitForm(t)}},"Update personal info"))))}}]),a}(n.Component),Pt=Object(p.b)((function(e){return{user:e.user}}))(Mt),At=function(){return r.a.createElement(it,null,r.a.createElement("h1",null,"Profile"),r.a.createElement(Pt,null))},qt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formError:!1,formSuccess:!1,formdata:{address:{element:"input",value:"",config:{label:"Adresss",name:"address_input",type:"text",placeholder:"Enter the site address"},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},hours:{element:"input",value:"",config:{label:"Working hours",name:"hours_input",type:"text",placeholder:"Enter the site working hours"},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},phone:{element:"input",value:"",config:{label:"Phone number",name:"phone_input",type:"text",placeholder:"Enter the phone number"},validation:{required:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0},email:{element:"input",value:"",config:{label:"Shop email",name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:"",showlabel:!0}}},e.updateForm=function(t){var a=se(t,e.state.formdata);e.setState({formError:!1,formdata:a})},e.submitForm=function(t){t.preventDefault();var a=ue(e.state.formdata);de(e.state.formdata)?e.props.dispatch(I(a)).then((function(){e.setState({formSuccess:!0},(function(){setTimeout((function(){e.setState({formSuccess:!1})}),2e3)}))})):e.setState({formError:!0})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(q()).then((function(){var t=fe(e.state.formdata,e.props.site.siteData[0]);e.setState({formdata:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement("h1",null,"Site info"),r.a.createElement(ie,{id:"address",formdata:this.state.formdata.address,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"hours",formdata:this.state.formdata.hours,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"phone",formdata:this.state.formdata.phone,change:function(t){return e.updateForm(t)}}),r.a.createElement(ie,{id:"email",formdata:this.state.formdata.email,change:function(t){return e.updateForm(t)}}),r.a.createElement("div",null,this.state.formSuccess?r.a.createElement("div",{className:"form_success"},"Success"):null,this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,r.a.createElement("button",{onClick:function(t){return e.submitForm(t)}},"Update"))))}}]),a}(n.Component),It=Object(p.b)((function(e){return{site:e.site}}))(qt),Lt=function(){return r.a.createElement(it,null,r.a.createElement(It,null))},Bt=function(){return r.a.createElement(B,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/user/dashboard",exact:!0,component:U(dt,!0)}),r.a.createElement(c.a,{path:"/user/cart",exact:!0,component:U(Tt,!0)}),r.a.createElement(c.a,{path:"/user/user_profile",exact:!0,component:U(At,!0)}),r.a.createElement(c.a,{path:"/admin/add_product",exact:!0,component:U(Et,!0)}),r.a.createElement(c.a,{path:"/admin/manage_categories",exact:!0,component:U(kt,!0)}),r.a.createElement(c.a,{path:"/admin/site_info",exact:!0,component:U(Lt,!0)}),r.a.createElement(c.a,{path:"/product_detail/:id",exact:!0,component:U(rt,null)}),r.a.createElement(c.a,{path:"/register",exact:!0,component:U(ye,!1)}),r.a.createElement(c.a,{path:"/register_login",exact:!0,component:U(Ee,!1)}),r.a.createElement(c.a,{path:"/shop",exact:!0,component:U(Ye,null)}),r.a.createElement(c.a,{path:"/",exact:!0,component:U(le,null)})))},Ht=a(37),Ut=a(102),zt=a.n(Ut),Rt=a(103),$t=Object(Ht.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_user":return Object(ce.a)(Object(ce.a)({},e),{},{register:t.payload});case"login_user":return Object(ce.a)(Object(ce.a)({},e),{},{loginSucces:t.payload});case"auth_user":return Object(ce.a)(Object(ce.a)({},e),{},{userData:t.payload});case"logout_user":return Object(ce.a)({},e);case"add_to_cart_user":return Object(ce.a)(Object(ce.a)({},e),{},{userData:Object(ce.a)(Object(ce.a)({},e.userData),{},{cart:t.payload})});case"get_cart_item_user":return Object(ce.a)(Object(ce.a)({},e),{},{cartDetail:t.payload});case"remove_cart_item_user":return Object(ce.a)(Object(ce.a)({},e),{},{cartDetail:t.payload.cartDetail,userData:Object(ce.a)(Object(ce.a)({},e.userData),{},{cart:t.payload.cart})});case"on_success_buy_user":return Object(ce.a)(Object(ce.a)({},e),{},{successBuy:t.payload.success,userData:Object(ce.a)(Object(ce.a)({},e.userData),{},{cart:t.payload.cart}),cartDetail:t.payload.cartDetail});case"update_data_user":case"clear_update_user_data":return Object(ce.a)(Object(ce.a)({},e),{},{updateUser:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_products_by_sell":return Object(ce.a)(Object(ce.a)({},e),{},{bySell:t.payload});case"get_products_by_arrival":return Object(ce.a)(Object(ce.a)({},e),{},{byArrival:t.payload});case"get_brands":return Object(ce.a)(Object(ce.a)({},e),{},{brands:t.payload});case"add_brand":return Object(ce.a)(Object(ce.a)({},e),{},{addBrand:t.payload.success,brands:t.payload.brands});case"get_woods":return Object(ce.a)(Object(ce.a)({},e),{},{woods:t.payload});case"add_wood":return Object(ce.a)(Object(ce.a)({},e),{},{addWood:t.payload.success,woods:t.payload.woods});case"get_products_to_shop":return Object(ce.a)(Object(ce.a)({},e),{},{toShop:t.payload.articles,toShopSize:t.payload.size});case"add_product":case"clear_product":return Object(ce.a)(Object(ce.a)({},e),{},{addProduct:t.payload});case"get_product_detail":case"clear_product_detail":return Object(ce.a)(Object(ce.a)({},e),{},{prodDetail:t.payload});default:return e}},site:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_site_data":return Object(ce.a)(Object(ce.a)({},e),{},{siteData:t.payload});case"update_site_data":return Object(ce.a)(Object(ce.a)({},e),{},{siteData:t.payload.siteInfo});default:return e}}}),Wt=Object(Ht.a)(zt.a,Rt.a)(Ht.d);l.a.render(r.a.createElement(p.a,{store:Wt($t,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(i.a,null,r.a.createElement(Bt,null))),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.b9ff5998.chunk.js.map